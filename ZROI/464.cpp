#include <cstdio>
#include <cstring>
#include <algorithm>
using namespace std;

#define n	200005
#define For(i,a,b)	for(int i=a;i<=b;i++)

int		T,N,t,D,F[n],G[n],A[6][3][3];
char	s[n];

void	turn0(int x){
		t=A[x][0][0];	A[x][0][0]=A[x][2][0];	A[x][2][0]=A[x][2][2];	A[x][2][2]=A[x][0][2];	A[x][0][2]=t;
		t=A[x][0][1];	A[x][0][1]=A[x][1][0];	A[x][1][0]=A[x][2][1];	A[x][2][1]=A[x][1][2];	A[x][1][2]=t;
}
void	turn1(){
		t=A[4][0][2];	A[4][0][2]=A[3][2][2];	A[3][2][2]=A[5][0][2];	A[5][0][2]=A[1][0][0];	A[1][0][0]=t;
		t=A[4][0][1];	A[4][0][1]=A[3][1][2];	A[3][1][2]=A[5][0][1];	A[5][0][1]=A[1][1][0];	A[1][1][0]=t;
		t=A[4][0][0];	A[4][0][0]=A[3][0][2];	A[3][0][2]=A[5][0][0];	A[5][0][0]=A[1][2][0];	A[1][2][0]=t;
}
void	turn2(){
		t=A[4][0][0];	A[4][0][0]=A[0][2][2];	A[0][2][2]=A[5][2][2];	A[5][2][2]=A[2][0][0];	A[2][0][0]=t;
		t=A[4][1][0];	A[4][1][0]=A[0][1][2];	A[0][1][2]=A[5][1][2];	A[5][1][2]=A[2][1][0];	A[2][1][0]=t;
		t=A[4][2][0];	A[4][2][0]=A[0][0][2];	A[0][0][2]=A[5][0][2];	A[5][0][2]=A[2][2][0];	A[2][2][0]=t;
}
void	turn3(){
		t=A[4][2][0];	A[4][2][0]=A[1][2][2];	A[1][2][2]=A[5][2][0];	A[5][2][0]=A[3][0][0];	A[3][0][0]=t;
		t=A[4][2][1];	A[4][2][1]=A[1][1][2];	A[1][1][2]=A[5][2][1];	A[5][2][1]=A[3][1][0];	A[3][1][0]=t;
		t=A[4][2][2];	A[4][2][2]=A[1][0][2];	A[1][0][2]=A[5][2][2];	A[5][2][2]=A[3][2][0];	A[3][2][0]=t;
}
void	turn4(){
		t=A[4][2][2];	A[4][2][2]=A[2][2][2];	A[2][2][2]=A[5][0][0];	A[5][0][0]=A[0][0][0];	A[0][0][0]=t;
		t=A[4][1][2];	A[4][1][2]=A[2][1][2];	A[2][1][2]=A[5][1][0];	A[5][1][0]=A[0][1][0];	A[0][1][0]=t;
		t=A[4][0][2];	A[4][0][2]=A[2][0][2];	A[2][0][2]=A[5][2][0];	A[5][2][0]=A[0][2][0];	A[0][2][0]=t;
}
void	turn5(){
		t=A[0][0][0];	A[0][0][0]=A[1][0][0];	A[1][0][0]=A[2][0][0];	A[2][0][0]=A[3][0][0];	A[3][0][0]=t;
		t=A[0][0][1];	A[0][0][1]=A[1][0][1];	A[1][0][1]=A[2][0][1];	A[2][0][1]=A[3][0][1];	A[3][0][1]=t;
		t=A[0][0][2];	A[0][0][2]=A[1][0][2];	A[1][0][2]=A[2][0][2];	A[2][0][2]=A[3][0][2];	A[3][0][2]=t;
}
void	turn6(){
		t=A[0][2][0];	A[0][2][0]=A[3][2][0];	A[3][2][0]=A[2][2][0];	A[2][2][0]=A[1][2][0];	A[1][2][0]=t;
		t=A[0][2][1];	A[0][2][1]=A[3][2][1];	A[3][2][1]=A[2][2][1];	A[2][2][1]=A[1][2][1];	A[1][2][1]=t;
		t=A[0][2][2];	A[0][2][2]=A[3][2][2];	A[3][2][2]=A[2][2][2];	A[2][2][2]=A[1][2][2];	A[1][2][2]=t;
}
void	Tran(int x){
		if	(x=='F')	turn0(0),turn1();
		if	(x=='R')	turn0(1),turn2();
		if	(x=='B')	turn0(2),turn3();
		if	(x=='L')	turn0(3),turn4();
		if	(x=='U')	turn0(4),turn5(); 
		if	(x=='D')	turn0(5),turn6(); 
}
bool	End(){
		For(i,1,*F)	if	(G[i]!=i)	return	0;
		return	1;
}

int		main(){
		

		scanf("%s",s+1);	N=strlen(s+1);
		For(i,0,5)	For(j,0,2)	For(k,0,2)	A[i][j][k]=++D;

		For(i,1,N){
			int x=s[i],t=1;
			if	(i<N&&s[i+1]=='2')	t=2,i++;
			if	(i<N&&s[i+1]=='\'')	t=3,i++;
			For(j,1,t)	Tran(x);
		}

		*F=0;
		For(i,0,5)	For(j,0,2)	For(k,0,2)	F[++*F]=A[i][j][k];
		For(i,1,*F)	G[i]=F[i];	int Ans=1;
		for	(;!End();Ans++)	For(i,1,*F)	G[i]=F[G[i]];
		printf("%d\n",Ans);
}
